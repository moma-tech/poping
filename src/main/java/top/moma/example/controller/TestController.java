package top.moma.example.controller;

import lombok.extern.slf4j.Slf4j;
import org.apache.skywalking.apm.toolkit.trace.TraceContext;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.cache.annotation.Cacheable;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import top.moma.example.apollo.TestService;

import javax.servlet.http.HttpServletRequest;
import java.nio.charset.StandardCharsets;
import java.util.Base64;
import java.util.Enumeration;

@Slf4j
@RestController
@RequestMapping("/api/ex")
public class TestController {
  @Autowired TestService testService;

  @GetMapping("/apm/value")
  @Cacheable(value = "user", key = "#uid")
  public String getRest(String uid) {

    log.info("--------Test - value");
    return "TEst";
  }

  @GetMapping("/test/v")
  public String getT(String uid) {

    log.info("--------Test - T");
    return "TEst V";
  }

  @GetMapping("/test/exception")
  public String getE(String uid) {
    throw new RuntimeException("This is a exception");
  }

  @GetMapping("/test/getpost")
  public String getPost(HttpServletRequest httpServletRequest) {
    Enumeration<String> a = httpServletRequest.getHeaderNames();
    while (a.hasMoreElements()) {
      System.out.println(a.nextElement());
    }

    System.out.println("sw8::" + httpServletRequest.getHeader("sw8"));
    System.out.println("sw8-x::" + httpServletRequest.getHeader("sw8-x"));
    System.out.println("sw8-cr::" + httpServletRequest.getHeader("sw8-correlation"));
    System.out.println(TraceContext.traceId());
    //    String re = "{'a':'123'}";
    //    String response = "";
    //    try {
    //      response = testService.sendPost(re);
    //      return response;
    //    } catch (Exception e) {
    //      System.out.println(e);
    //    }
    return "error";
  }

  public static void main(String[] args) {

    String input = "YXBpLXNlcnZpY2U6Om14LW5wLWFwaS1nYXRld2F5LWFwcA==.1_R0VUOi8=";
    String[] part = input.split("_");
    String service = part[0].split("\\.")[0];
    String end = part[1];
    String a = new String(Base64.getDecoder().decode(service), StandardCharsets.UTF_8);
    String b = new String(Base64.getDecoder().decode(end), StandardCharsets.UTF_8);
    System.out.println(a);
    System.out.println(b);

    //    String text =
    //
    // "Cjc0MTE5NTQ3M2M3N2Y0OGUzYmI0NThkYzhlODYyOTYxMi42MzU2LjE2NTQ1Nzc3MDUwNjAzNjY3Ejc0MTE5NTQ3M2M3N2Y0OGUzYmI0NThkYzhlODYyOTYxMi42MzU2LjE2NTQ1Nzc3MDUwNjAzNjY2GjUIARjk4JDkkzAg5OCQ5JMwMh9KYWNrc29uL09iamVjdFdyaXRlci53cml0ZVZhbHVlQAJQdhpLCAMQAhjk4JDkkzAg5OCQ5JMwMg5HdWF2YUNhY2hlL2dldEACSAVQcmIhCgxkYi5zdGF0ZW1lbnQSETE3Mi4xNi4wLjE4ODo2MjEyGkkIBBACGOTgkOSTMCDk4JDkkzAyDkd1YXZhQ2FjaGUvZ2V0QAJIBVByYh8KDGRiLnN0YXRlbWVudBIPMTcyLjE2LjAuMjo2MjEyGksIBRACGOTgkOSTMCDk4JDkkzAyDkd1YXZhQ2FjaGUvZ2V0QAJIBVByYiEKDGRiLnN0YXRlbWVudBIRMTcyLjE2LjAuMTc3OjYyMTIaSwgGEAIY5OCQ5JMwIOTgkOSTMDIOR3VhdmFDYWNoZS9nZXRAAkgFUHJiIQoMZGIuc3RhdGVtZW50EhExNzIuMTYuMC4xMTI6NjIxMhpLCAcQAhjk4JDkkzAg5OCQ5JMwMg5HdWF2YUNhY2hlL2dldEACSAVQcmIhCgxkYi5zdGF0ZW1lbnQSETE3Mi4xNi4wLjE3Njo2MjEyGksICBACGOTgkOSTMCDk4JDkkzAyDkd1YXZhQ2FjaGUvZ2V0QAJIBVByYiEKDGRiLnN0YXRlbWVudBIRMTcyLjE2LjAuMTc3OjYyMTIa9SEICRACGOXgkOSTMCCir5PkkzAyCy9jYXNoUmV3YXJkOhExNzIuMTYuMC4xNzc6NjIxMkABSANQC1gBYhMKC2h0dHAubWV0aG9kEgRQT1NUYioKA3VybBIjaHR0cDovLzE3Mi4xNi4wLjE3Nzo2MjEyL2Nhc2hSZXdhcmRq9yAIoq+T5JMwEg4KBWV2ZW50EgVlcnJvchItCgplcnJvci5raW5kEh9qYXZhLm5ldC5Ob1JvdXRlVG9Ib3N0RXhjZXB0aW9uEi4KB21lc3NhZ2USI05vIHJvdXRlIHRvIGhvc3QgKEhvc3QgdW5yZWFjaGFibGUpEv4fCgVzdGFjaxL0H2phdmEubmV0Lk5vUm91dGVUb0hvc3RFeGNlcHRpb246IE5vIHJvdXRlIHRvIGhvc3QgKEhvc3QgdW5yZWFjaGFibGUpCmF0IGphdmEubmV0LlBsYWluU29ja2V0SW1wbC5zb2NrZXRDb25uZWN0KE5hdGl2ZSBNZXRob2QpCmF0IGphdmEubmV0LkFic3RyYWN0UGxhaW5Tb2NrZXRJbXBsLmRvQ29ubmVjdChBYnN0cmFjdFBsYWluU29ja2V0SW1wbC5qYXZhOjM1MCkKYXQgamF2YS5uZXQuQWJzdHJhY3RQbGFpblNvY2tldEltcGwuY29ubmVjdFRvQWRkcmVzcyhBYnN0cmFjdFBsYWluU29ja2V0SW1wbC5qYXZhOjIwNikKYXQgamF2YS5uZXQuQWJzdHJhY3RQbGFpblNvY2tldEltcGwuY29ubmVjdChBYnN0cmFjdFBsYWluU29ja2V0SW1wbC5qYXZhOjE4OCkKYXQgamF2YS5uZXQuU29ja3NTb2NrZXRJbXBsLmNvbm5lY3QoU29ja3NTb2NrZXRJbXBsLmphdmE6MzkyKQphdCBqYXZhLm5ldC5Tb2NrZXQuY29ubmVjdChTb2NrZXQuamF2YTo1ODkpCmF0IHN1bi5uZXQuTmV0d29ya0NsaWVudC5kb0Nvbm5lY3QoTmV0d29ya0NsaWVudC5qYXZhOjE3NSkKYXQgc3VuLm5ldC53d3cuaHR0cC5IdHRwQ2xpZW50Lm9wZW5TZXJ2ZXIoSHR0cENsaWVudC5qYXZhOjQ2MykKYXQgc3VuLm5ldC53d3cuaHR0cC5IdHRwQ2xpZW50Lm9wZW5TZXJ2ZXIoSHR0cENsaWVudC5qYXZhOjU1OCkKYXQgc3VuLm5ldC53d3cuaHR0cC5IdHRwQ2xpZW50Ljxpbml0PihIdHRwQ2xpZW50LmphdmE6MjQyKQphdCBzdW4ubmV0Lnd3dy5odHRwLkh0dHBDbGllbnQuTmV3KEh0dHBDbGllbnQuamF2YTozMzkpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC5OZXcoSHR0cENsaWVudC5qYXZhOjM1NykKYXQgc3VuLm5ldC53d3cucHJvdG9jb2wuaHR0cC5IdHRwVVJMQ29ubmVjdGlvbi5nZXROZXdIdHRwQ2xpZW50KEh0dHBVUkxDb25uZWN0aW9uLmphdmE6MTIyMCkKYXQgc3VuLm5ldC53d3cucHJvdG9jb2wuaHR0cC5IdHRwVVJMQ29ubmVjdGlvbi5wbGFpbkNvbm5lY3QwKEh0dHBVUkxDb25uZWN0aW9uLmphdmE6MTE1NikKYXQgc3VuLm5ldC53d3cucHJvdG9jb2wuaHR0cC5IdHRwVVJMQ29ubmVjdGlvbi5wbGFpbkNvbm5lY3QoSHR0cFVSTENvbm5lY3Rpb24uamF2YToxMDUwKQphdCBzdW4ubmV0Lnd3dy5wcm90b2NvbC5odHRwLkh0dHBVUkxDb25uZWN0aW9uLmNvbm5lY3QoSHR0cFVSTENvbm5lY3Rpb24uamF2YTo5ODQpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24uZ2V0T3V0cHV0U3RyZWFtMChIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjEzMzQpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24uZ2V0T3V0cHV0U3RyZWFtKEh0dHBVUkxDb25uZWN0aW9uLmphdmE6MTMwOSkKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuY29udmVydEFuZFNlbmQoQ2xpZW50LmphdmE6MTI0KQphdCBmZWlnbi5DbGllbnQkRGVmYXVsdC5leGVjdXRlJG9yaWdpbmFsJHZvckVyZ3ZXKENsaWVudC5qYXZhOjY3KQphdCBmZWlnbi5DbGllbnQkRGVmYXVsdC5leGVjdXRlJG9yaWdpbmFsJHZvckVyZ3ZXJGFjY2Vzc29yJGk3eTNOSlBoKENsaWVudC5qYXZhKQphdCBmZWlnbi5DbGllbnQkRGVmYXVsdCRhdXhpbGlhcnkkMnFwMWh2SkYuY2FsbChVbmtub3duIFNvdXJjZSkKYXQgb3JnLmFwYWNoZS5za3l3YWxraW5nLmFwbS5hZ2VudC5jb3JlLnBsdWdpbi5pbnRlcmNlcHRvci5lbmhhbmNlLkluc3RNZXRob2RzSW50ZXIuaW50ZXJjZXB0KEluc3RNZXRob2RzSW50ZXIuamF2YTo4NikKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuZXhlY3V0ZShDbGllbnQuamF2YSkKYXQgb3JnLnNwcmluZ2ZyYW1ld29yay5jbG91ZC5vcGVuZmVpZ24ucmliYm9uLkZlaWduTG9hZEJhbGFuY2VyLmV4ZWN1dGUoRmVpZ25Mb2FkQmFsYW5jZXIuamF2YTo5MykKYXQgb3JnLnNwcmluZ2ZyYW1ld29yay5jbG91ZC5vcGVuZmVpZ24ucmliYm9uLkZlaWduTG9hZEJhbGFuY2VyLmV4ZWN1dGUoRmVpZ25Mb2FkQmFsYW5jZXIuamF2YTo1NikKYXQgY29tLm5ldGZsaXguY2xpZW50LkFic3RyYWN0TG9hZEJhbGFuY2VyQXdhcmVDbGllbnQkMS5jYWxsKEFic3RyYWN0TG9hZEJhbGFuY2VyQXdhcmVDbGllbnQuamF2YToxMDQpCmF0IGNvbS5uZXRmbGl4LmxvYWRiYWxhbmNlci5yZWFjdGl2ZS5Mb2FkQmFsYW5jZXJDb21tYW5kJDMkMS5jYWxsKExvYWRCYWxhbmNlckNvbW1hbmQuamF2YTozMDMpCmF0IGNvbS5uZXRmbGl4LmxvYWRiYWxhbmNlci5yZWFjdGl2ZS5Mb2FkQmFsYW5jZXJDb21tYW5kJDMkMS5jYWxsKExvYWRCYWxhbmNlckNvbW1hbmQuamF2YToyODcpCmF0IHJ4LmludGVybmFsLnV0aWwuU2NhbGFyU3luY2hyb25vdXNPYnNlcnZhYmxlJDMuY2FsbChTY2FsYXJTeW5jaHJvbm91c09ic2VydmFibGUuamF2YToyMzEpCmF0IHJ4LmludGVybmFsLnV0aWwuU2NhbGFyU3luY2hyb25vdXNPYnNlcnZhYmxlJDMuY2FsbChTY2FsYXJTeW5jaHJvbm91c09ic2VydmFibGUuamF2YToyMjgpCmF0IHJ4Lk9ic2VydmFibGUudW5zYWZlU3Vic2NyaWJlKE9ic2VydmFibGUuamF2YToxMDMyNykKYXQgcnguaW50ZXJuYWwub3BlcmF0b3JzLk9uU3Vic2NyaWJlQ29uY2F0TWFwJENvbmNhdE1hcFN1YnNjcmliZXIuZHJhaW4oT25TdWJzY3JpYmVDb25jYXRNYXAuamF2YToyODYpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUNvbmNhdE1hcCRDb25jYXRNYXBTdWJzY3JpYmVyLm9uTmV4dChPblN1YnNjcmliZUNvbmNhdE1hcC5qYXZhOjE0NCkKYXQgY29tLm5ldGZsaXgubG9hZGJhbGFuY2VyLnJlYWN0aXZlLkxvYWRCYWxhbmNlckNvbW1hbmQkMS5jYWxsKExvYWRCYWxhbmNlckNvbW1hbmQuamF2YToxODUpCmF0IGNvbS5uZXRmbGl4LmxvYWRiYWxhbmNlci5yZWFjdGl2ZS5Mb2FkQmFsYW5jZXJDb21tYW5kJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6MTgwKQphdCByeC5PYnNlcnZhYmxlLnVuc2FmZVN1YnNjcmliZShPYnNlcnZhYmxlLmphdmE6MTAzMjcpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUNvbmNhdE1hcC5jYWxsKE9uU3Vic2NyaWJlQ29uY2F0TWFwLmphdmE6OTQpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUNvbmNhdE1hcC5jYWxsKE9uU3Vic2NyaWJlQ29uY2F0TWFwLmphdmE6NDIpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUxpZnQuY2FsbChPblN1YnNjcmliZUxpZnQuamF2YTo0OCkKYXQgcnguaW50ZXJuYWwub3BlcmF0b3JzLk9uU3Vic2NyaWJlTGlmdC5jYWxsKE9uU3Vic2NyaWJlTGlmdC5qYXZhOjMwKQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVMaWZ0LmNhbGwoT25TdWJzY3JpYmVMaWZ0LmphdmE6NDgpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUxpZnQuY2FsbChPblN1YnNjcmliZUxpZnQuamF2YTozMCkKYXQgcnguT2JzZXJ2YWJsZS5zdWJzY3JpYmUoT2JzZXJ2YWJsZS5qYXZhOjEwNDIzKQphdCByeC5PYnNlcnZhYmxlLnN1YnNjcmliZShPYnNlcnZhYmxlLmphdmE6MTAzOTApCmF0IHJ4Lm9ic2VydmFibGVzLkJsb2NraW5nT2JzZXJ2YWJsZS5ibG9ja0ZvclNpbmdsZShCbG9ja2luZ09ic2VydmFibGUuamF2YTo0NDMpCmF0IHJ4Lm9ic2VydmFibGVzLkJsb2NraW5nT2JzZXJ2YWJsZS5zaW5nbGUoQmxvY2tpbmdPYnNlcnZhYmxlLmphdmE6MzQwKQphdCBjb20ubmV0ZmxpeC5jbGllbnQuQWJzdHJhY3RMb2FkQmFsYW5jZXJBd2FyZUNsaWVudC5leGVjdXRlV2l0aExvYWRCYWxhbmNlcihBYnN0cmFjdExvYWRCYWxhbmNlckF3YXJlQ2xpZW50LmphdmE6MTEyKQphdCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNsb3VkLm9wZW5mZWlnbi5yaWJib24uTG9hZEJhbGFuY2VyRmVpZ25DbGllbnQuZXhlY3V0ZSRvcmlnaW5hbCQwTXlGMEhwUyhMb2FkQmFsYW5jZXJGZWlnbkNsaWVudC5qYXZhOjgzKQphdCBvcmcuc3ByaW5nZnJhbWV3b3JrLmNsb3VkLm9wZW5mZWlnbi5yaWJib24uTG9hZEJhbGFuY2VyRmVpZ25DbGllbnQuZXhlY3V0ZSRvcmlnaW5hbCQwTXlGMEhwUyRhY2Nlc3NvciRVdk1QMzI3TShMb2FkQmFsYW5jZXJGZWlnbkNsaWVudC5qYXZhKQoa7SEIAhjk4JDkkzAgoq+T5JMwMhNCYWxhbmNlci9jYXNoUmV3YXJkQAJIA1ALWAFiEwoLaHR0cC5tZXRob2QSBFBPU1RiLwoDdXJsEihodHRwOi8vbmFub3BheS13YWxsZXQtc2VydmljZS9jYXNoUmV3YXJkavcgCKKvk+STMBIOCgVldmVudBIFZXJyb3ISLQoKZXJyb3Iua2luZBIfamF2YS5uZXQuTm9Sb3V0ZVRvSG9zdEV4Y2VwdGlvbhIuCgdtZXNzYWdlEiNObyByb3V0ZSB0byBob3N0IChIb3N0IHVucmVhY2hhYmxlKRL+HwoFc3RhY2sS9B9qYXZhLm5ldC5Ob1JvdXRlVG9Ib3N0RXhjZXB0aW9uOiBObyByb3V0ZSB0byBob3N0IChIb3N0IHVucmVhY2hhYmxlKQphdCBqYXZhLm5ldC5QbGFpblNvY2tldEltcGwuc29ja2V0Q29ubmVjdChOYXRpdmUgTWV0aG9kKQphdCBqYXZhLm5ldC5BYnN0cmFjdFBsYWluU29ja2V0SW1wbC5kb0Nvbm5lY3QoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YTozNTApCmF0IGphdmEubmV0LkFic3RyYWN0UGxhaW5Tb2NrZXRJbXBsLmNvbm5lY3RUb0FkZHJlc3MoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YToyMDYpCmF0IGphdmEubmV0LkFic3RyYWN0UGxhaW5Tb2NrZXRJbXBsLmNvbm5lY3QoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YToxODgpCmF0IGphdmEubmV0LlNvY2tzU29ja2V0SW1wbC5jb25uZWN0KFNvY2tzU29ja2V0SW1wbC5qYXZhOjM5MikKYXQgamF2YS5uZXQuU29ja2V0LmNvbm5lY3QoU29ja2V0LmphdmE6NTg5KQphdCBzdW4ubmV0Lk5ldHdvcmtDbGllbnQuZG9Db25uZWN0KE5ldHdvcmtDbGllbnQuamF2YToxNzUpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC5vcGVuU2VydmVyKEh0dHBDbGllbnQuamF2YTo0NjMpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC5vcGVuU2VydmVyKEh0dHBDbGllbnQuamF2YTo1NTgpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC48aW5pdD4oSHR0cENsaWVudC5qYXZhOjI0MikKYXQgc3VuLm5ldC53d3cuaHR0cC5IdHRwQ2xpZW50Lk5ldyhIdHRwQ2xpZW50LmphdmE6MzM5KQphdCBzdW4ubmV0Lnd3dy5odHRwLkh0dHBDbGllbnQuTmV3KEh0dHBDbGllbnQuamF2YTozNTcpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24uZ2V0TmV3SHR0cENsaWVudChIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjEyMjApCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24ucGxhaW5Db25uZWN0MChIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjExNTYpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24ucGxhaW5Db25uZWN0KEh0dHBVUkxDb25uZWN0aW9uLmphdmE6MTA1MCkKYXQgc3VuLm5ldC53d3cucHJvdG9jb2wuaHR0cC5IdHRwVVJMQ29ubmVjdGlvbi5jb25uZWN0KEh0dHBVUkxDb25uZWN0aW9uLmphdmE6OTg0KQphdCBzdW4ubmV0Lnd3dy5wcm90b2NvbC5odHRwLkh0dHBVUkxDb25uZWN0aW9uLmdldE91dHB1dFN0cmVhbTAoSHR0cFVSTENvbm5lY3Rpb24uamF2YToxMzM0KQphdCBzdW4ubmV0Lnd3dy5wcm90b2NvbC5odHRwLkh0dHBVUkxDb25uZWN0aW9uLmdldE91dHB1dFN0cmVhbShIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjEzMDkpCmF0IGZlaWduLkNsaWVudCREZWZhdWx0LmNvbnZlcnRBbmRTZW5kKENsaWVudC5qYXZhOjEyNCkKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuZXhlY3V0ZSRvcmlnaW5hbCR2b3JFcmd2VyhDbGllbnQuamF2YTo2NykKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuZXhlY3V0ZSRvcmlnaW5hbCR2b3JFcmd2VyRhY2Nlc3NvciRpN3kzTkpQaChDbGllbnQuamF2YSkKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQkYXV4aWxpYXJ5JDJxcDFodkpGLmNhbGwoVW5rbm93biBTb3VyY2UpCmF0IG9yZy5hcGFjaGUuc2t5d2Fsa2luZy5hcG0uYWdlbnQuY29yZS5wbHVnaW4uaW50ZXJjZXB0b3IuZW5oYW5jZS5JbnN0TWV0aG9kc0ludGVyLmludGVyY2VwdChJbnN0TWV0aG9kc0ludGVyLmphdmE6ODYpCmF0IGZlaWduLkNsaWVudCREZWZhdWx0LmV4ZWN1dGUoQ2xpZW50LmphdmEpCmF0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQub3BlbmZlaWduLnJpYmJvbi5GZWlnbkxvYWRCYWxhbmNlci5leGVjdXRlKEZlaWduTG9hZEJhbGFuY2VyLmphdmE6OTMpCmF0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQub3BlbmZlaWduLnJpYmJvbi5GZWlnbkxvYWRCYWxhbmNlci5leGVjdXRlKEZlaWduTG9hZEJhbGFuY2VyLmphdmE6NTYpCmF0IGNvbS5uZXRmbGl4LmNsaWVudC5BYnN0cmFjdExvYWRCYWxhbmNlckF3YXJlQ2xpZW50JDEuY2FsbChBYnN0cmFjdExvYWRCYWxhbmNlckF3YXJlQ2xpZW50LmphdmE6MTA0KQphdCBjb20ubmV0ZmxpeC5sb2FkYmFsYW5jZXIucmVhY3RpdmUuTG9hZEJhbGFuY2VyQ29tbWFuZCQzJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6MzAzKQphdCBjb20ubmV0ZmxpeC5sb2FkYmFsYW5jZXIucmVhY3RpdmUuTG9hZEJhbGFuY2VyQ29tbWFuZCQzJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6Mjg3KQphdCByeC5pbnRlcm5hbC51dGlsLlNjYWxhclN5bmNocm9ub3VzT2JzZXJ2YWJsZSQzLmNhbGwoU2NhbGFyU3luY2hyb25vdXNPYnNlcnZhYmxlLmphdmE6MjMxKQphdCByeC5pbnRlcm5hbC51dGlsLlNjYWxhclN5bmNocm9ub3VzT2JzZXJ2YWJsZSQzLmNhbGwoU2NhbGFyU3luY2hyb25vdXNPYnNlcnZhYmxlLmphdmE6MjI4KQphdCByeC5PYnNlcnZhYmxlLnVuc2FmZVN1YnNjcmliZShPYnNlcnZhYmxlLmphdmE6MTAzMjcpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUNvbmNhdE1hcCRDb25jYXRNYXBTdWJzY3JpYmVyLmRyYWluKE9uU3Vic2NyaWJlQ29uY2F0TWFwLmphdmE6Mjg2KQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVDb25jYXRNYXAkQ29uY2F0TWFwU3Vic2NyaWJlci5vbk5leHQoT25TdWJzY3JpYmVDb25jYXRNYXAuamF2YToxNDQpCmF0IGNvbS5uZXRmbGl4LmxvYWRiYWxhbmNlci5yZWFjdGl2ZS5Mb2FkQmFsYW5jZXJDb21tYW5kJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6MTg1KQphdCBjb20ubmV0ZmxpeC5sb2FkYmFsYW5jZXIucmVhY3RpdmUuTG9hZEJhbGFuY2VyQ29tbWFuZCQxLmNhbGwoTG9hZEJhbGFuY2VyQ29tbWFuZC5qYXZhOjE4MCkKYXQgcnguT2JzZXJ2YWJsZS51bnNhZmVTdWJzY3JpYmUoT2JzZXJ2YWJsZS5qYXZhOjEwMzI3KQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVDb25jYXRNYXAuY2FsbChPblN1YnNjcmliZUNvbmNhdE1hcC5qYXZhOjk0KQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVDb25jYXRNYXAuY2FsbChPblN1YnNjcmliZUNvbmNhdE1hcC5qYXZhOjQyKQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVMaWZ0LmNhbGwoT25TdWJzY3JpYmVMaWZ0LmphdmE6NDgpCmF0IHJ4LmludGVybmFsLm9wZXJhdG9ycy5PblN1YnNjcmliZUxpZnQuY2FsbChPblN1YnNjcmliZUxpZnQuamF2YTozMCkKYXQgcnguaW50ZXJuYWwub3BlcmF0b3JzLk9uU3Vic2NyaWJlTGlmdC5jYWxsKE9uU3Vic2NyaWJlTGlmdC5qYXZhOjQ4KQphdCByeC5pbnRlcm5hbC5vcGVyYXRvcnMuT25TdWJzY3JpYmVMaWZ0LmNhbGwoT25TdWJzY3JpYmVMaWZ0LmphdmE6MzApCmF0IHJ4Lk9ic2VydmFibGUuc3Vic2NyaWJlKE9ic2VydmFibGUuamF2YToxMDQyMykKYXQgcnguT2JzZXJ2YWJsZS5zdWJzY3JpYmUoT2JzZXJ2YWJsZS5qYXZhOjEwMzkwKQphdCByeC5vYnNlcnZhYmxlcy5CbG9ja2luZ09ic2VydmFibGUuYmxvY2tGb3JTaW5nbGUoQmxvY2tpbmdPYnNlcnZhYmxlLmphdmE6NDQzKQphdCByeC5vYnNlcnZhYmxlcy5CbG9ja2luZ09ic2VydmFibGUuc2luZ2xlKEJsb2NraW5nT2JzZXJ2YWJsZS5qYXZhOjM0MCkKYXQgY29tLm5ldGZsaXguY2xpZW50LkFic3RyYWN0TG9hZEJhbGFuY2VyQXdhcmVDbGllbnQuZXhlY3V0ZVdpdGhMb2FkQmFsYW5jZXIoQWJzdHJhY3RMb2FkQmFsYW5jZXJBd2FyZUNsaWVudC5qYXZhOjExMikKYXQgb3JnLnNwcmluZ2ZyYW1ld29yay5jbG91ZC5vcGVuZmVpZ24ucmliYm9uLkxvYWRCYWxhbmNlckZlaWduQ2xpZW50LmV4ZWN1dGUkb3JpZ2luYWwkME15RjBIcFMoTG9hZEJhbGFuY2VyRmVpZ25DbGllbnQuamF2YTo4MykKYXQgb3JnLnNwcmluZ2ZyYW1ld29yay5jbG91ZC5vcGVuZmVpZ24ucmliYm9uLkxvYWRCYWxhbmNlckZlaWduQ2xpZW50LmV4ZWN1dGUkb3JpZ2luYWwkME15RjBIcFMkYWNjZXNzb3IkVXZNUDMyN00oTG9hZEJhbGFuY2VyRmVpZ25DbGllbnQuamF2YSkKGushEP///////////wEY5OCQ5JMwIKOvk+STMDJQbXgubmFub3BheS51c2VyY2VudGVyLnNlcnZpY2Uuc2VydmljZS5vdXRlcnNlcnZpY2UuV2FsbGV0T3V0ZXJTZXJ2aWNlLmNhc2hSZXdhcmRAAlBdWAFq9yAIo6+T5JMwEg4KBWV2ZW50EgVlcnJvchImCgplcnJvci5raW5kEhhmZWlnbi5SZXRyeWFibGVFeGNlcHRpb24SZgoHbWVzc2FnZRJbTm8gcm91dGUgdG8gaG9zdCAoSG9zdCB1bnJlYWNoYWJsZSkgZXhlY3V0aW5nIFBPU1QgaHR0cDovL25hbm9wYXktd2FsbGV0LXNlcnZpY2UvY2FzaFJld2FyZBLNHwoFc3RhY2sSwx9mZWlnbi5SZXRyeWFibGVFeGNlcHRpb246IE5vIHJvdXRlIHRvIGhvc3QgKEhvc3QgdW5yZWFjaGFibGUpIGV4ZWN1dGluZyBQT1NUIGh0dHA6Ly9uYW5vcGF5LXdhbGxldC1zZXJ2aWNlL2Nhc2hSZXdhcmQKYXQgZmVpZ24uRmVpZ25FeGNlcHRpb24uZXJyb3JFeGVjdXRpbmcoRmVpZ25FeGNlcHRpb24uamF2YTo4NCkKYXQgZmVpZ24uU3luY2hyb25vdXNNZXRob2RIYW5kbGVyLmV4ZWN1dGVBbmREZWNvZGUoU3luY2hyb25vdXNNZXRob2RIYW5kbGVyLmphdmE6MTEzKQphdCBmZWlnbi5TeW5jaHJvbm91c01ldGhvZEhhbmRsZXIuaW52b2tlKFN5bmNocm9ub3VzTWV0aG9kSGFuZGxlci5qYXZhOjc4KQphdCBmZWlnbi5SZWZsZWN0aXZlRmVpZ24kRmVpZ25JbnZvY2F0aW9uSGFuZGxlci5pbnZva2UoUmVmbGVjdGl2ZUZlaWduLmphdmE6MTAzKQphdCBjb20uc3VuLnByb3h5LiRQcm94eTIyOC5jYXNoUmV3YXJkKFVua25vd24gU291cmNlKQphdCBteC5uYW5vcGF5LnVzZXJjZW50ZXIuc2VydmljZS5zZXJ2aWNlLm91dGVyc2VydmljZS5XYWxsZXRPdXRlclNlcnZpY2UucmVwYXkoV2FsbGV0T3V0ZXJTZXJ2aWNlLmphdmE6OTgpCmF0IG14Lm5hbm9wYXkudXNlcmNlbnRlci5zZXJ2aWNlLnNlcnZpY2Uub3V0ZXJzZXJ2aWNlLldhbGxldE91dGVyU2VydmljZS5jYXNoUmV3YXJkJG9yaWdpbmFsJDlMem1KVXJXKFdhbGxldE91dGVyU2VydmljZS5qYXZhOjczKQphdCBteC5uYW5vcGF5LnVzZXJjZW50ZXIuc2VydmljZS5zZXJ2aWNlLm91dGVyc2VydmljZS5XYWxsZXRPdXRlclNlcnZpY2UuY2FzaFJld2FyZCRvcmlnaW5hbCQ5THptSlVyVyRhY2Nlc3NvciRZNkpkTklFNShXYWxsZXRPdXRlclNlcnZpY2UuamF2YSkKYXQgbXgubmFub3BheS51c2VyY2VudGVyLnNlcnZpY2Uuc2VydmljZS5vdXRlcnNlcnZpY2UuV2FsbGV0T3V0ZXJTZXJ2aWNlJGF1eGlsaWFyeSRoM0dEYmtjWi5jYWxsKFVua25vd24gU291cmNlKQphdCBvcmcuYXBhY2hlLnNreXdhbGtpbmcuYXBtLmFnZW50LmNvcmUucGx1Z2luLmludGVyY2VwdG9yLmVuaGFuY2UuSW5zdE1ldGhvZHNJbnRlci5pbnRlcmNlcHQoSW5zdE1ldGhvZHNJbnRlci5qYXZhOjg2KQphdCBteC5uYW5vcGF5LnVzZXJjZW50ZXIuc2VydmljZS5zZXJ2aWNlLm91dGVyc2VydmljZS5XYWxsZXRPdXRlclNlcnZpY2UuY2FzaFJld2FyZChXYWxsZXRPdXRlclNlcnZpY2UuamF2YSkKYXQgbXgubmFub3BheS51c2VyY2VudGVyLnNlcnZpY2Uuc2VydmljZS5sdWNreWRyYXcuTnBEcmF3Q2hhbmNlU2VydmljZS5jYXRjaGFibGVDYXNoUmV3YXJkKE5wRHJhd0NoYW5jZVNlcnZpY2UuamF2YTo3NTcpCmF0IG14Lm5hbm9wYXkudXNlcmNlbnRlci5zZXJ2aWNlLnNlcnZpY2UubHVja3lkcmF3Lk5wRHJhd0NoYW5jZVNlcnZpY2UubGFtYmRhJGRyYXckMyhOcERyYXdDaGFuY2VTZXJ2aWNlLmphdmE6NzAzKQphdCBqYXZhLnV0aWwuY29uY3VycmVudC5UaHJlYWRQb29sRXhlY3V0b3IucnVuV29ya2VyKFRocmVhZFBvb2xFeGVjdXRvci5qYXZhOjExNDkpCmF0IGphdmEudXRpbC5jb25jdXJyZW50LlRocmVhZFBvb2xFeGVjdXRvciRXb3JrZXIucnVuKFRocmVhZFBvb2xFeGVjdXRvci5qYXZhOjYyNCkKYXQgamF2YS5sYW5nLlRocmVhZC5ydW4oVGhyZWFkLmphdmE6NzQ4KQpqYXZhLm5ldC5Ob1JvdXRlVG9Ib3N0RXhjZXB0aW9uOiBObyByb3V0ZSB0byBob3N0IChIb3N0IHVucmVhY2hhYmxlKQphdCBqYXZhLm5ldC5QbGFpblNvY2tldEltcGwuc29ja2V0Q29ubmVjdChOYXRpdmUgTWV0aG9kKQphdCBqYXZhLm5ldC5BYnN0cmFjdFBsYWluU29ja2V0SW1wbC5kb0Nvbm5lY3QoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YTozNTApCmF0IGphdmEubmV0LkFic3RyYWN0UGxhaW5Tb2NrZXRJbXBsLmNvbm5lY3RUb0FkZHJlc3MoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YToyMDYpCmF0IGphdmEubmV0LkFic3RyYWN0UGxhaW5Tb2NrZXRJbXBsLmNvbm5lY3QoQWJzdHJhY3RQbGFpblNvY2tldEltcGwuamF2YToxODgpCmF0IGphdmEubmV0LlNvY2tzU29ja2V0SW1wbC5jb25uZWN0KFNvY2tzU29ja2V0SW1wbC5qYXZhOjM5MikKYXQgamF2YS5uZXQuU29ja2V0LmNvbm5lY3QoU29ja2V0LmphdmE6NTg5KQphdCBzdW4ubmV0Lk5ldHdvcmtDbGllbnQuZG9Db25uZWN0KE5ldHdvcmtDbGllbnQuamF2YToxNzUpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC5vcGVuU2VydmVyKEh0dHBDbGllbnQuamF2YTo0NjMpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC5vcGVuU2VydmVyKEh0dHBDbGllbnQuamF2YTo1NTgpCmF0IHN1bi5uZXQud3d3Lmh0dHAuSHR0cENsaWVudC48aW5pdD4oSHR0cENsaWVudC5qYXZhOjI0MikKYXQgc3VuLm5ldC53d3cuaHR0cC5IdHRwQ2xpZW50Lk5ldyhIdHRwQ2xpZW50LmphdmE6MzM5KQphdCBzdW4ubmV0Lnd3dy5odHRwLkh0dHBDbGllbnQuTmV3KEh0dHBDbGllbnQuamF2YTozNTcpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24uZ2V0TmV3SHR0cENsaWVudChIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjEyMjApCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24ucGxhaW5Db25uZWN0MChIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjExNTYpCmF0IHN1bi5uZXQud3d3LnByb3RvY29sLmh0dHAuSHR0cFVSTENvbm5lY3Rpb24ucGxhaW5Db25uZWN0KEh0dHBVUkxDb25uZWN0aW9uLmphdmE6MTA1MCkKYXQgc3VuLm5ldC53d3cucHJvdG9jb2wuaHR0cC5IdHRwVVJMQ29ubmVjdGlvbi5jb25uZWN0KEh0dHBVUkxDb25uZWN0aW9uLmphdmE6OTg0KQphdCBzdW4ubmV0Lnd3dy5wcm90b2NvbC5odHRwLkh0dHBVUkxDb25uZWN0aW9uLmdldE91dHB1dFN0cmVhbTAoSHR0cFVSTENvbm5lY3Rpb24uamF2YToxMzM0KQphdCBzdW4ubmV0Lnd3dy5wcm90b2NvbC5odHRwLkh0dHBVUkxDb25uZWN0aW9uLmdldE91dHB1dFN0cmVhbShIdHRwVVJMQ29ubmVjdGlvbi5qYXZhOjEzMDkpCmF0IGZlaWduLkNsaWVudCREZWZhdWx0LmNvbnZlcnRBbmRTZW5kKENsaWVudC5qYXZhOjEyNCkKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuZXhlY3V0ZSRvcmlnaW5hbCR2b3JFcmd2VyhDbGllbnQuamF2YTo2NykKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQuZXhlY3V0ZSRvcmlnaW5hbCR2b3JFcmd2VyRhY2Nlc3NvciRpN3kzTkpQaChDbGllbnQuamF2YSkKYXQgZmVpZ24uQ2xpZW50JERlZmF1bHQkYXV4aWxpYXJ5JDJxcDFodkpGLmNhbGwoVW5rbm93biBTb3VyY2UpCmF0IG9yZy5hcGFjaGUuc2t5d2Fsa2luZy5hcG0uYWdlbnQuY29yZS5wbHVnaW4uaW50ZXJjZXB0b3IuZW5oYW5jZS5JbnN0TWV0aG9kc0ludGVyLmludGVyY2VwdChJbnN0TWV0aG9kc0ludGVyLmphdmE6ODYpCmF0IGZlaWduLkNsaWVudCREZWZhdWx0LmV4ZWN1dGUoQ2xpZW50LmphdmEpCmF0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQub3BlbmZlaWduLnJpYmJvbi5GZWlnbkxvYWRCYWxhbmNlci5leGVjdXRlKEZlaWduTG9hZEJhbGFuY2VyLmphdmE6OTMpCmF0IG9yZy5zcHJpbmdmcmFtZXdvcmsuY2xvdWQub3BlbmZlaWduLnJpYmJvbi5GZWlnbkxvYWRCYWxhbmNlci5leGVjdXRlKEZlaWduTG9hZEJhbGFuY2VyLmphdmE6NTYpCmF0IGNvbS5uZXRmbGl4LmNsaWVudC5BYnN0cmFjdExvYWRCYWxhbmNlckF3YXJlQ2xpZW50JDEuY2FsbChBYnN0cmFjdExvYWRCYWxhbmNlckF3YXJlQ2xpZW50LmphdmE6MTA0KQphdCBjb20ubmV0ZmxpeC5sb2FkYmFsYW5jZXIucmVhY3RpdmUuTG9hZEJhbGFuY2VyQ29tbWFuZCQzJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6MzAzKQphdCBjb20ubmV0ZmxpeC5sb2FkYmFsYW5jZXIucmVhY3RpdmUuTG9hZEJhbGFuY2VyQ29tbWFuZCQzJDEuY2FsbChMb2FkQmFsYW5jZXJDb21tYW5kLmphdmE6Mjg3KQphdCByeC5pbnRlcm5hbC51dGlsLlNjYWxhclN5bmNocm9ub3VzT2JzZXJ2YWJsZSQzLmNhbGwoU2NhbGFyU3luY2hyb25vdXNPYnNlcnZhYmxlLmphdmE6MjMxKQoiH2NvcmUtc2VydmljZTo6bXgtbnAtdWNlbnRlci1hcHAqLWVlNmFmNWJiYWRkNjQ5YmM4NTBiNjU0YTBmNDZjZWJmQDE3Mi4xNi4wLjE3NA==";
    //    System.out.println(new String(Base64.getDecoder().decode(text), StandardCharsets.UTF_8));
  }
}
